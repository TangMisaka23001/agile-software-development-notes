# 第五部分 气象站案例研究

## 第二十三章 composite模式

当然，使用composite模式并不能把所有的一对多关系都转变成一对一关系。只有那些以一致的方式对待列表中的每个对象的情况才具备转换的可能性。

尽管如此，还是有相当一部分一对多的关系适合于使用composite模式。并且好处还是相当大的。

## 第二十四章 observer模式 -- 回归为模式

如果你熟悉设计模式，那么在面临一个设计问题时，你的脑海中很可能会浮现出一个模式。随后的问题就是直接实现这个模式呢，还是通过一系列小步骤
不断地去演化代码。

observer模式的最大推动力来自开放封闭原则。使用这个模式的动机就是为了在增加新的观察对象时可以无需更改被观察的对象。这样，被观察的对象就
可以保持封闭。

## 第二十五章 abstract server模式、adapter模式和bridge模式

这种情况是无法避免的。不存在完美的结构。只存在那些试图去平衡当前的代价和收益的结构。随着时间的过去，这些结构肯定会随着系统需求的改变而改
变。管理这种变化的诀窍是尽可能地保持系统简单、灵活。

使用adapter模式的解决方案是简单和直接的。它让所有的依赖关系都指向正确的方向，并且实现起来非常简单。bridge模式稍稍有些复杂。我建议在开始
时不要使用bridge模式，直到你明显可以看出需要完全分离连接策略和通信策略并且需要增加新的连接策略时，才使用这种方法。

## 第二十六章 proxy模式和 stairway to haven模式：管理第三方API

虽然代理会带来很多讨厌的问题，但是它们具有一个非常大的好处：重要关系的分离。

在那些把业务规则和数据库实现分离显得非常重要的情况中，proxy模式是很适用的。就此而言，proxy模式可以用来分离业务规则和任何种类的实现问题。
它可以用来防止业务规则被诸如：COM、CORBA、EJB等东西污染。这是当前流行的一种保持项目的业务规则逻辑和实现机制分离的方法。

远在真正需要proxy模式或者stairway to haven模式前，就去预测对于它们的需要是非常有诱惑力的。但这几乎从来都不是一个好主意，特别是对于
proxy模式。我建议在开始时先使用facade模式，然后在必要时进行重构。

